(this["webpackJsonpelectroniks-ecommerce"]=this["webpackJsonpelectroniks-ecommerce"]||[]).push([[0],{118:function(e,t,a){e.exports=a(139)},123:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),l=a.n(c),o=(a(123),a(8)),i=a.n(o),s=a(16),u=a(6),m=r.a.createContext();function d(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!1),d=Object(u.a)(o,2),p=d[0],f=d[1],E="/api/products";console.log(E,"/api");var v=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,fetch(E);case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,l(a.results),f(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useLayoutEffect)((function(){v()}),[]),r.a.createElement(m.Provider,Object.assign({value:{products:c,setProducts:l,isLoading:p}},e))}var p=r.a.createContext();function f(e){var t=Object(n.useState)({total:0,current:0}),a=Object(u.a)(t,2),c=a[0],l=a[1];return r.a.createElement(p.Provider,Object.assign({value:[c,l]},e))}var E=r.a.createContext();function v(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],l=a[1],o=c.length<=0?0:c.map((function(e){return e.qty*e.price})).reduce((function(e,t){return e+t}));return r.a.createElement(E.Provider,Object.assign({value:{shoppingCartItems:c,setShoppingCartItems:l,shoppingCartTotalPrice:o}},e))}var g=r.a.createContext();function b(e){var t=Object(n.useState)(),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(),m=Object(u.a)(o,2),d=m[0],p=m[1],f=Object(n.useState)(!0),E=Object(u.a)(f,2),v=E[0],b=E[1],h={method:"GET",headers:{"Access-Control-Allow-Origin":"http://localhost:3000/user","Content-Type":"application/json"},credentials:"include"};Object(n.useEffect)((function(){c||v||!(null===d||void 0===d?void 0:d.email)||l(d)}),[d,v,l]);var y=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user",h);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,p(a),b(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){y()}),[]),r.a.createElement(g.Provider,Object.assign({value:{currentUser:c,setCurrentUser:l}},e))}var h=a(108),y=(a(85),a(76),a(15)),j=a(21),O=a(179),x=a(92),C=a.n(x);function k(e){var t=e.route,a=e.text,n=e.exact,c=e.onClick;return r.a.createElement(y.c,{activeClassName:"activeLink",exact:n,to:t},r.a.createElement("li",{onClick:c},a))}function N(e){var t=e.currentUser,a=Object(n.useState)(!1),c=Object(u.a)(a,2),l=c[0],o=c[1],i=Object(n.useRef)(),s=function(){document.querySelector(".hamburger").classList.toggle("active"),o(!l)};return Object(n.useEffect)((function(){l&&i.current.classList.toggle("transition")}),[l]),r.a.createElement("div",{className:"mobileViewMenu"},r.a.createElement("div",{className:"hamburger",onClick:s},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),l&&r.a.createElement("div",{className:"menu-modal",ref:i},r.a.createElement("ul",null,r.a.createElement(k,{route:"/",exact:!0,text:"HOME",onClick:s}),r.a.createElement(k,{route:"/products",text:"PRODUCTS",onClick:s}),r.a.createElement(k,{route:"/categories",text:"CATEGORIES",onClick:s}),t?r.a.createElement(k,{route:"/user",text:"ACCOUNT",onClick:s}):r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{route:"/login",text:"LOGIN",onClick:s}),r.a.createElement(k,{route:"/register",text:"SIGN UP",onClick:s})))))}var S=a(178),w=a(4),I=a(91),T=a.n(I),P=Object(w.a)((function(){return{badge:{right:-3,top:0,padding:"0 4px",fontWeight:"bold",border:"1px solid #fff"}}}))(S.a);function A(e){var t=e.badgeContent;return r.a.createElement(P,{badgeContent:t,color:"secondary"},r.a.createElement(T.a,{style:{color:"#fff"}}))}function L(e){var t=e.currentUser,a=e.shoppingCartItems;return r.a.createElement(O.a,{container:!0,direction:"row",justify:"space-around",style:{backgroundColor:"#141414",color:"#e2e2e2",height:"80px"},className:"NavBarContainer"},r.a.createElement(O.a,{item:!0},r.a.createElement(y.c,{to:"/",exact:!0,activeClassName:"activeLink"},r.a.createElement("h2",{className:"navLogo"},"Electroniks"))),r.a.createElement(O.a,{item:!0,className:"NavProducts categories"},r.a.createElement(y.c,{to:"/products",activeClassName:"activeLink"},r.a.createElement("h3",null,"Products"))),r.a.createElement(O.a,{item:!0,className:"categories"},r.a.createElement(y.c,{to:"/categories",activeClassName:"activeLink"},r.a.createElement("h3",null,"Categories"))),r.a.createElement(O.a,{item:!0},r.a.createElement(y.c,{activeClassName:"activeLink",to:"/shoppingCart"},r.a.createElement(A,{badgeContent:a.length,className:"shoppingCartIcon"}))),r.a.createElement("div",{className:"navbar-userSection",style:{display:"flex",alignItems:"center"}},t?r.a.createElement(O.a,{item:!0,style:{display:"grid",placeItems:"center"}},r.a.createElement(y.c,{activeClassName:"activeLink",to:"/user"},r.a.createElement("h3",null,r.a.createElement(C.a,{style:{transform:"scale(1.2)"}})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{item:!0,style:{padding:"0 10px"}},r.a.createElement(y.c,{to:"/login",activeClassName:"activeLink"},r.a.createElement("h3",null,"Login"))),r.a.createElement(O.a,{item:!0,style:{padding:"0 10px"}},r.a.createElement(y.c,{to:"/register",activeClassName:"activeLink"},r.a.createElement("h3",null,"Register"))))),r.a.createElement(N,{currentUser:t}))}a(131);function _(){var e=Object(n.useContext)(E).shoppingCartItems,t=Object(n.useContext)(g).currentUser;return r.a.createElement(L,{currentUser:t,shoppingCartItems:e})}var F=a(9),q=a(94),U=a.n(q),D=a(93),M=a.n(D),B=a(26);function R(e){var t=Object(n.useContext)(p),a=Object(u.a)(t,2),c=a[0],l=a[1],o=e.children.slice(0,4),i=e.duration?e.duration:2e3,s=Object(B.a)().palette.secondary.main;Object(n.useEffect)((function(){var e=setInterval(m,i);return function(){clearInterval(e)}}),[c]),Object(n.useEffect)((function(){l({total:n.Children.count(o),current:c.current})}),[e,l]);var m=function(){c.current>=c.total-1?l(Object(F.a)(Object(F.a)({},c),{},{current:0})):l(Object(F.a)(Object(F.a)({},c),{},{current:c.current+1}))},d=Array(c.total).fill(r.a.createElement(M.a,{style:{cursor:"pointer"}}));return d[c.current]=r.a.createElement(U.a,{key:"current",style:{color:s}}),r.a.createElement("div",{key:c.current.name,style:{marginTop:"20px"}},n.Children.toArray(o)[c.current],r.a.createElement("div",{onClick:function(e){var t=Array.from(e.currentTarget.children).indexOf(e.target);-1!==t&&l(Object(F.a)(Object(F.a)({},c),{},{current:t}))}},d),r.a.createElement("p",null,c.current+1," / ",c.total))}var V=a(182),J=a(183),W=a(184),H=a(185),z=a(72),G=a(186),$=a(180),Q=a(32);function Y(e,t){var a=Object(n.useContext)(E),r=a.shoppingCartItems,c=a.setShoppingCartItems,l=Object(n.useContext)(g),o=l.currentUser,u=l.setCurrentUser,m=function(){return r.find((function(t){return t._id===e?t:null}))},d=function(){var e=m(),t=r.indexOf(e),a=Object(Q.a)(r),n=a[t];a[t]=Object(F.a)(Object(F.a)({},a[t]),{},{qty:n.qty+1<=n.maxQty?n.qty+1:n.qty}),c(a)},p=function(){var t=r.filter((function(t){return t._id!==e}));c(t)};return{addItem:d,addToShoppingCart:function(){m()?d():c([].concat(Object(Q.a)(r),[{_id:t._id,name:t.name,qty:1,maxQty:t.qty,price:t.price,img:t.img}]))},removeOneItem:function(){var e=m(),t=r.indexOf(e),a=Object(Q.a)(r);e.qty-1<1?p():(a[t]=Object(F.a)(Object(F.a)({},a[t]),{},{qty:a[t].qty-1}),c(a))},removeItem:p,addToFav:function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m(),n=a||{_id:t},o){e.next=4;break}return e.abrupt("return","Login first");case 4:r={item:n},c=[].concat(Object(Q.a)(o.favoriteProducts),[n]),u(Object(F.a)(Object(F.a)({},o),{},{favoriteProducts:c})),fetch("/favorites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),removeFromFav:function(e){var t=m(),a=t||{_id:e};if(!o)return"Login first";if(!a)return"No item Found";var n={productId:a._id},r=Object(Q.a)(o.favoriteProducts.filter((function(e){return e._id!==a._id})));u(Object(F.a)(Object(F.a)({},o),{},{favoriteProducts:r})),fetch("/user/favorites",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})},isInFavorites:function(){var t;return!!o&&(o.favoriteProducts||u(Object(F.a)(Object(F.a)({},o),{},{favoriteProducts:[]})),null===o||void 0===o||null===(t=o.favoriteProducts)||void 0===t?void 0:t.find((function(t){return t._id===e?t:null})))},findThisItem:m}}function K(e){var t=e.itemObject,a=t.isInStock,n=t.qty,c=Y(t._id,t).addToShoppingCart;return r.a.createElement($.a,{size:"large",variant:"contained",color:"secondary",onClick:c,disabled:!(a&&n>=1)},"Add To Cart")}var X=a(201),Z=a(95),ee=a.n(Z),te=a(66),ae=a.n(te),ne=a(67),re=a.n(ne),ce=a(57),le=a.n(ce),oe=a(197),ie=a(65),se=a.n(ie);function ue(e){var t=Object(n.useState)(e.success),a=Object(u.a)(t,1)[0],c=Object(B.a)(),l={display:"flex",alignItems:"center",textAlign:"center",justifyContent:"space-between",padding:"20px 30px",borderRadius:"5px",boxShadow:"4px 6px 4px rgba(0,0,0,.2)",backgroundColor:a?se.a[600]:c.palette.secondary.main,color:"#fff"};return r.a.createElement(oe.a,{style:l},e.children)}function me(e){var t=e._id,a=Object(B.a)().palette.primary.main,c=Object(n.useContext)(g).currentUser,l=Object(n.useState)(!1),o=Object(u.a)(l,2),i=o[0],s=o[1],m=Y(t),d=m.addToFav,p=m.isInFavorites,f=m.removeFromFav;return r.a.createElement(r.a.Fragment,null,p()?r.a.createElement($.a,{onClick:function(){return f(t)}},r.a.createElement(ae.a,{onClick:function(){return f(t)},style:{color:a}})):r.a.createElement($.a,{onClick:function(){s(!c),d(t)}},r.a.createElement(ee.a,null)),r.a.createElement(X.a,{open:i,autoHideDuration:5e3,onClose:function(){return s(!1)}},r.a.createElement(ue,{success:!1},r.a.createElement(re.a,null),r.a.createElement(z.a,{variant:"p"},"You must be logged in to perform this action"),r.a.createElement(le.a,{onClick:function(){return s(!1)},style:{marginLeft:"20px",cursor:"pointer"}}))))}function de(e){var t=e.itemObject,a=t.name,n=t.price,c=t.img,l=t._id;return r.a.createElement(V.a,{className:"transition",style:{width:310,margin:"10px"}},r.a.createElement(J.a,{onClick:e.onCardAreaClick},r.a.createElement(W.a,{style:{height:180},image:c,title:a}),r.a.createElement(H.a,null,r.a.createElement(z.a,{gutterBottom:!0,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},variant:"h5",component:"h2"},a),r.a.createElement(z.a,{variant:"body2",color:"textSecondary",component:"p"},n?"$".concat(n):null))),e.children?e.children:r.a.createElement(G.a,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(K,{itemObject:t}),r.a.createElement(me,{_id:l})))}a(132);function pe(){var e=Object(n.useContext)(m).products,t=Object(j.g)();return r.a.createElement("div",null,r.a.createElement("h3",null,"Featured Products"),r.a.createElement("div",{className:"productsCarousel"},e.slice(0,4).map((function(e){return r.a.createElement(fe,{onClick:function(){return a=e._id,void t.push("/products/".concat(a));var a},key:e._id,image:e.img,title:e.name,price:e.price})}))))}function fe(e){var t=e.image,a=e.title,n=e.price,c=e.discount,l=e.onClick,o=Object(B.a)(),i=o.palette.secondary.main,s=o.palette.primary.main;return r.a.createElement("div",{onClick:l,className:"featured-card"},r.a.createElement("div",{className:"featured-card-badge badge-title badge",style:{backgroundColor:i}},r.a.createElement("p",null,a)),r.a.createElement("div",{className:"featured-card-badge badge-price badge",style:{backgroundColor:s}},r.a.createElement("p",null,"$",n)),r.a.createElement("img",{className:"featured-card-image",src:t,alt:a}),c&&r.a.createElement("div",{className:"featured-card-badge badge-discount badge"},r.a.createElement("p",null,c)))}var Ee=a(202),ve=a(96),ge=a.n(ve);function be(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(j.g)(),o=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",null);case 2:t="/products?search="+a,l.push(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(O.a,{container:!0,className:"SearchBar",justify:"center"},r.a.createElement(O.a,{item:!0,style:{display:"flex"}},r.a.createElement(Ee.a,{label:"Search",variant:"outlined",onChange:function(e){c(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&o()}}),r.a.createElement("div",{id:"searchIconWrapper",onClick:o},r.a.createElement(ge.a,{id:"searchIcon"}))))}function he(){var e=Object(n.useContext)(m).products,t=Object(j.g)();return r.a.createElement("div",{className:"componentTransition"},r.a.createElement(O.a,{container:!0,justify:"center",style:{margin:"1rem 0"}},r.a.createElement(be,null)),r.a.createElement(O.a,{container:!0,justify:"center",style:{overflow:"hidden"}},r.a.createElement(R,{duration:5e3},e.map((function(e){return r.a.createElement(de,{key:e._id,className:"transition",itemObject:e,onCardAreaClick:function(){return a=e._id,void t.push("/products/".concat(a));var a}})})))),r.a.createElement(pe,{style:{margin:"0 auto"}}))}var ye=a(199),je=a(189),Oe=a(143),xe=a(206),Ce=a(191),ke=a(200),Ne=a(190);function Se(){var e=new Date;return String(e.getDate()).padStart(2,"0")+"/"+String(e.getMonth()+1).padStart(2,"0")+"/"+e.getFullYear()}var we=a(97),Ie=a.n(we);function Te(e){var t=Object(n.useContext)(g),a=t.currentUser,c=t.setCurrentUser,l=Object(n.useContext)(E),o=l.shoppingCartItems,m=l.shoppingCartTotalPrice,d=Object(n.useState)(!1),p=Object(u.a)(d,2),f=p[0],v=p[1],b=Object(n.useState)(!1),h=Object(u.a)(b,2),y=h[0],j=h[1],O=Object(n.useState)(!1),x=Object(u.a)(O,2),C=x[0],k=x[1],N=Object(n.useState)(!1),S=Object(u.a)(N,2),w=S[0],I=S[1],T=Object(n.useState)(""),P=Object(u.a)(T,2),A=P[0],L=P[1],_=Object(n.useState)((null===a||void 0===a?void 0:a.address)||""),q=Object(u.a)(_,2),U=q[0],D=q[1],M=function(){j(!1)},B=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,r,l,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a&&(t=a.shoppingHistory,n=Se(),r={products:Object(Q.a)(o),date:n},(l=Array.isArray(t)?Object(Q.a)(t):[]).push(r),c(Object(F.a)(Object(F.a)({},a),{},{shoppingHistory:l})),s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shoppingHistory:r})},fetch("/api/user/historyy",s));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),t={clientName:A,products:o,address:U,total:m},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},"/orders/new",e.next=6,fetch("/api",a);case 6:n=e.sent,200===n.status?(B(),I(!0),M()):I(!1),k(!0),v(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{variant:"contained",color:"primary",onClick:function(){j(!0)}},e.actionName),r.a.createElement(ke.a,{open:y,onClose:M},r.a.createElement("form",{className:"transition",style:{margin:"4rem auto",backgroundColor:"#eee",display:"grid",width:"400px",padding:"15px",textAlign:"center",borderRadius:"5px"},noValidate:!0,autoComplete:"off"},r.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},r.a.createElement(Ee.a,{id:"creditCardId",label:"Credit Card Number"}),r.a.createElement(Ee.a,{id:"creditCardId",value:A,onChange:function(e){return L(e.target.value)},label:"Credit card's name"})),r.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},r.a.createElement(Ee.a,{id:"creditCardId",label:"Expire Date"}),r.a.createElement(Ee.a,{id:"creditCardId",label:"CVC"})),r.a.createElement("h3",null,"This order will be delivered to:"," ",a?a.address:r.a.createElement(Ee.a,{value:U,onChange:function(e){return D(e.target.value)},label:"Enter your address"})),r.a.createElement("p",{style:{opacity:.4}},"Note: This website will NOT save any data provided in any of this fields, this is a project for learning purposes only"),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},f?r.a.createElement(Ne.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{variant:"contained",color:"secondary",onClick:M},"Cancel"),r.a.createElement($.a,{variant:"contained",color:"primary",onClick:R},"Confirm"))))),r.a.createElement(X.a,{open:C,autoHideDuration:5e3,onClose:function(){return k(!1)}},w?r.a.createElement(ue,{success:w},r.a.createElement(Ie.a,null),r.a.createElement(z.a,{variant:"p"},"Order registered succesfully !"),r.a.createElement(le.a,{onClick:function(){return k(!1)},style:{marginLeft:"20px",cursor:"pointer"}})):r.a.createElement(ue,{success:w},r.a.createElement(re.a,null),r.a.createElement(z.a,{variant:"p"},"Something failed"),r.a.createElement(le.a,{onClick:function(){return k(!1)},style:{marginLeft:"20px",cursor:"pointer"}}))))}function Pe(){var e=Object(n.useContext)(E),t=e.shoppingCartItems,a=e.setShoppingCartItems,c=Object(n.useState)(),l=Object(u.a)(c,2),o=l[0],i=l[1];return Object(n.useEffect)((function(){i(t.length<=0?0:t.map((function(e){return e.qty*e.price})).reduce((function(e,t){return e+t})))}),[t]),r.a.createElement("div",{className:"shoppingcart-drawer",style:{padding:"1rem",height:"100%",width:"calc(100% - 2rem)",display:"flex",flexDirection:"column"}},r.a.createElement("h2",null,"Items Quantity: ",t.length," "),r.a.createElement("h3",null,"Item List: ",r.a.createElement("hr",null)),r.a.createElement(je.a,{style:{flex:1}},t.map((function(e){return r.a.createElement(Oe.a,{key:e._id},r.a.createElement(xe.a,{alt:e.name,src:e.img,style:{marginRight:".8rem"}}),r.a.createElement(Ce.a,{primary:e.name,secondary:"x".concat(e.qty)}),r.a.createElement(z.a,null,"$",(t=e.qty,a=e.price,t*a)));var t,a}))),r.a.createElement("div",{className:"checkout-bottom",style:{display:"flex",flexWrap:"wrap",alignItems:"center"}},r.a.createElement("h4",{style:{margin:"0 1rem 0"}},"Total Price: $",o),r.a.createElement($.a,{onClick:function(){return a([])},variant:"contained",color:"secondary",size:"small",style:{margin:"0 1rem 0"}},"Clear Cart"),r.a.createElement(Te,{actionName:"Buy Now"})))}var Ae=a(99),Le=a.n(Ae),_e=a(98),Fe=a.n(_e),qe=a(70),Ue=a.n(qe);function De(e){var t=e._id,a=e.qty,n=Y(t),c=n.addItem,l=n.removeOneItem,o=n.removeItem;return r.a.createElement(G.a,null,r.a.createElement(O.a,{container:!0,justify:"center"},r.a.createElement(z.a,{variant:"h5"},"Quantity: ",a),r.a.createElement(O.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between"},r.a.createElement($.a,{onClick:o},r.a.createElement(Ue.a,null)),r.a.createElement(O.a,{item:!0,style:{display:"flex"}},r.a.createElement($.a,{style:{margin:"0px 10px"},onClick:l,size:"large"},r.a.createElement(Fe.a,null)),r.a.createElement($.a,{color:"secondary",size:"large",onClick:c},r.a.createElement(Le.a,null)),r.a.createElement(O.a,{item:!0,style:{margin:"0 5px"}},r.a.createElement(me,{_id:t}))))))}function Me(){var e=Object(n.useContext)(E).shoppingCartItems,t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(0),i=Object(u.a)(o,2),s=i[0],m=i[1],d=Object(j.g)(),p=function(e){(!e||"keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&l(!c)};return Object(n.useEffect)((function(){m(e.length<=0?0:e.map((function(e){return e.qty*e.price})).reduce((function(e,t){return e+t})))}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"componentTransition",style:{height:"calc(100vh - 80px)",display:"flex",flexDirection:"column"}},r.a.createElement(O.a,{container:!0,justify:"center"},r.a.createElement(z.a,{variant:"h4",style:{marginTop:"2rem"}},"Shopping Cart ",r.a.createElement("hr",null)),r.a.createElement(O.a,{container:!0,justify:"center",alignItems:"center",style:{marginBottom:"auto"}},e.length<=0?r.a.createElement("h1",{style:{color:"#f50057"}},"The are no items in the Shopping Cart yet"):e.map((function(e){return r.a.createElement(de,{key:e._id,itemObject:e,onCardAreaClick:function(){return t=e._id,void d.push("/products/".concat(t));var t}},r.a.createElement(De,{_id:e._id,qty:e.qty}))})))),r.a.createElement(O.a,{container:!0,justify:"center",style:{marginTop:"auto"}},r.a.createElement("h1",null,"Total price: $",s),r.a.createElement(O.a,{container:!0,justify:"center"},e.length>=1&&r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{variant:"contained",color:"secondary",size:"large",style:{marginBottom:"6rem"},onClick:p},"Proceed To Checkout"),r.a.createElement(ye.a,{className:"MuiDrawer-modal",anchor:"right",open:c,onClose:p,onOpen:p},r.a.createElement(Pe,null)))))))}var Be=function(e,t){var a=Object(n.useState)(),r=Object(u.a)(a,2),c=r[0],l=r[1],o=Object(n.useState)(!0),m=Object(u.a)(o,2),d=m[0],p=m[1],f=Object(n.useState)(),E=Object(u.a)(f,2),v=E[0],g=E[1],b=Object(n.useState)(),h=Object(u.a)(b,2),y=h[0],j=h[1];return Object(n.useEffect)((function(){var a=!0;return a&&function(){var a=Object(s.a)(i.a.mark((function a(){var n,r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!t){a.next=7;break}return a.next=4,fetch(e,t);case 4:a.t0=a.sent,a.next=10;break;case 7:return a.next=9,fetch(e);case 9:a.t0=a.sent;case 10:return n=a.t0,a.next=13,n.json();case 13:r=a.sent,l(r),j(n),a.next=21;break;case 18:a.prev=18,a.t1=a.catch(0),g(a.t1.message);case 21:p(!1);case 22:case"end":return a.stop()}}),a,null,[[0,18]])})));return function(){return a.apply(this,arguments)}}()(),function(){a=!1}}),[t,e]),{data:c,setData:l,isLoading:d,setIsLoading:p,errorMessage:v,setErrorMessage:g,req:y}},Re=a(141);a(133);function Ve(){for(var e=Object(B.a)(),t=[],a=0;a<5;a++)t.push(r.a.createElement("div",{key:Math.random(),className:"loader-item",style:{backgroundColor:e.palette.secondary.main}}));return r.a.createElement("div",{className:"loader-container"},t)}function Je(e){var t="/api"+"/products/".concat(e.match.params.id),a=Be(t),n=a.data,c=a.isLoading,l=a.errorMessage;return l?r.a.createElement("h1",null,l):(!c&&n&&n.qty<=0&&(n.isInStock=!1),n||c?r.a.createElement("div",{style:{marginTop:"50px"}},c?r.a.createElement(Ve,null):r.a.createElement(O.a,{container:!0,style:{maxWidth:"1000px",margin:"0 auto"},justify:"center",className:"componentTransition"},r.a.createElement(Re.a,{style:{padding:"30px"}},r.a.createElement(oe.a,{display:"flex",className:"product-listing-container"},r.a.createElement("img",{style:{maxWidth:"100%"},src:n.img,alt:n.name}),r.a.createElement(O.a,{container:!0,justify:"center"},r.a.createElement(O.a,{container:!0,direction:"column",alignItems:"center",style:{width:"70%"}},r.a.createElement("h2",{style:{color:"black",fontSize:"38px"}},n.name),r.a.createElement(z.a,{variant:"h4",style:{opacity:".7"}},"$ ",n.price),n.isInStock&&r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{variant:"h6",style:{color:n.qty<1||!n.isInStock?"red":"rgba(0,0,0,.5)"}},"Products available: ",n.qty),r.a.createElement(K,{itemObject:n})),!n.isInStock&&r.a.createElement(z.a,{variant:"h4",style:{color:"red"}},"Out of stock")))),r.a.createElement(z.a,{style:{margin:"4rem 0"},variant:"h5"},n.description||"Sadly there is no description set for this item yet")))):r.a.createElement(z.a,{style:{margin:"calc(25% - 80px) auto"},variant:"h3"},"Sorry We could not find that item"))}var We=a(192);function He(e){var t=e.data,a=e.setData,c=/[?]/.exec(e.url)?e.url+"&page=":e.url+"?page=",l=Object(n.useState)(1),o=Object(u.a)(l,2),m=o[0],d=o[1],p=Object(n.useState)(),f=Object(u.a)(p,2),E=f[0],v=f[1],g=Object(n.useState)(),b=Object(u.a)(g,2),h=b[0],y=b[1],j=Object(n.useState)(!1),x=Object(u.a)(j,2),C=x[0],k=x[1];Object(n.useEffect)((function(){t&&(v(t.nextPage),y(t.prevPage))}),[v,y,t]);var N=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),n=m,"next"===t&&E&&(n++,c+=n),h&&(n--,c+=n),e.next=6,fetch(c);case 6:return r=e.sent,e.next=9,r.json();case 9:l=e.sent,a(l),d(n),k(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(We.a,{style:{minWidth:"90%"}},r.a.createElement(O.a,{container:!0,justify:"space-between"},r.a.createElement($.a,{color:"secondary",variant:"contained",disabled:!h,onClick:N},"Previous"),r.a.createElement(z.a,{variant:"h6"},"Page: ",m),r.a.createElement($.a,{color:"secondary",variant:"contained",disabled:!E,onClick:function(){return N("next")}},"Next")),r.a.createElement(O.a,{container:!0,justify:"center"},C?r.a.createElement(Ve,null):e.children))}a(134);function ze(e){var t,a=e.location,n="/api/products";a.search&&(n+=a.search);var c=Be(n),l=c.data,o=c.setData,i=c.isLoading,s=Object(j.g)();return r.a.createElement(O.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement("h1",null,"View Our PC Products"),r.a.createElement(O.a,{container:!0,direction:"row",justify:"center"},r.a.createElement(He,{data:l,setData:o,url:n},!i&&l&&l.results&&l.results.map((function(e){return r.a.createElement(de,{key:e._id,itemObject:e,onCardAreaClick:function(){return t=e._id,void s.push("/products/".concat(t));var t}})})),i&&r.a.createElement(Ve,null),!i&&(null===l||void 0===l||null===(t=l.results)||void 0===t?void 0:t.length)<1&&r.a.createElement("div",null,r.a.createElement("h2",null,"Whoops! Nothing Found"),r.a.createElement(y.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement($.a,{variant:"contained",color:"secondary"},"Go back Home"))))))}function Ge(){var e=Object(j.g)();return r.a.createElement(O.a,{container:!0,direction:"column",className:"componentTransition"},r.a.createElement(z.a,{style:{marginTop:"120px",color:"red"},variant:"h2"},"404 Page not found"),r.a.createElement(O.a,{item:!0,style:{marginTop:"50px"}},r.a.createElement($.a,{variant:"contained",color:"secondary",size:"large",onClick:function(){return e.push("/")}},"Back To home page")))}var $e=a(31);a(87);function Qe(e){var t=e.wasError,a=e.sendData,n=e.handleChange;return r.a.createElement(We.a,{className:"componentTransition"},r.a.createElement(O.a,{container:!0,direction:"column",justify:"center",style:{height:"calc(100vh - 80px)"}},r.a.createElement("h1",null,"Log in"),r.a.createElement("form",{className:"flex d-column credentials-form-wrapper",onSubmit:a,onChange:n},r.a.createElement("div",{className:"flex d-column credentials-form-container"},r.a.createElement(Ee.a,{id:"login-username",label:"Username",name:"username"}),r.a.createElement(Ee.a,{id:"login-password",label:"Password",type:"password",name:"password"}),t&&r.a.createElement(z.a,{className:"errorMessage",variant:"h5",style:{color:"#f02b66"}},t),r.a.createElement($.a,{variant:"contained",color:"secondary",style:{marginTop:"40px"},type:"submit"},"Log In"),r.a.createElement(z.a,{style:{marginTop:"20px"},variant:"p"},"Need an account?"," ",r.a.createElement(y.b,{to:"register",style:{color:"red"}}," ","Create one!"," "))))))}var Ye={method:"GET"},Ke={method:"POST",headers:{"Content-Type":"application/json"}};function Xe(){var e=Object(n.useState)({username:"",password:""}),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(j.g)(),o=Object(n.useContext)(g),m=o.currentUser,d=o.setCurrentUser,p=Object(n.useState)(),f=Object(u.a)(p,2),E=f[0],v=f[1],b=Ke;b.body=JSON.stringify(a);var h=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/api/login",b);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,200===a.status?d(n):v(n.message);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,m?l.push("/user"):r.a.createElement(Qe,{wasError:E,handleChange:function(e){var t=e.target,n=t.value,r=t.name;c(Object(F.a)(Object(F.a)({},a),{},Object($e.a)({},r,n)))},sendData:h}))}var Ze=a(205),et=a(198),tt=a(193);function at(e){var t=e.handleChange,a=e.handleSubmit,n=e.errorMessage;return r.a.createElement(We.a,{className:"componentTransition"},r.a.createElement("form",{id:"UserRegister"},r.a.createElement("div",{className:"flex d-column credentials-form-wrapper",style:{height:"calc(100vh - 80px)"}},r.a.createElement("h2",{className:"register-form-title"},"Sign up for free!"),r.a.createElement("div",{className:"flex d-column credentials-form-container"},r.a.createElement(Ee.a,{style:{marginTop:"10px"},label:"Username",name:"username",onChange:t}),r.a.createElement(Ee.a,{style:{marginTop:"10px"},label:"Password",type:"password",name:"password",onChange:t}),r.a.createElement(Ee.a,{style:{marginTop:"10px"},label:"Email",type:"email",name:"email",onChange:t}),r.a.createElement(Ze.a,{id:"gender-select",style:{marginTop:"10px"}},"Gender"),r.a.createElement(et.a,{labelId:"gender-select",defaultValue:"-",name:"gender",onChange:t},["Male","Female","Other"].map((function(e){return r.a.createElement(tt.a,{key:e,value:e},e)}))),r.a.createElement(Ee.a,{style:{marginTop:"15px"},label:"Address",name:"address",onChange:t}),r.a.createElement(Ee.a,{style:{marginTop:"15px"},label:"Phone Number",name:"phoneNumber",onChange:t}),n&&r.a.createElement(z.a,{className:"errorMessage",variant:"h5",style:{marginTop:"20px",color:"#ed0c5b"}},n),r.a.createElement($.a,{color:"secondary",variant:"contained",onClick:a,style:{marginTop:"50px"}},"Submit")))))}function nt(){var e=Object(n.useContext)(g),t=e.currentUser,a=e.setCurrentUser,c=Object(n.useState)(),l=Object(u.a)(c,2),o=l[0],m=l[1],d=Object(n.useState)({username:"",password:"",email:"",gender:"",address:"",phoneNumber:""}),p=Object(u.a)(d,2),f=p[0],E=p[1],v=Object(j.g)(),b=Ke;b.body=JSON.stringify(f);var h=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/register",b);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,t.status<300?(a(n),localStorage.setItem("user",JSON.stringify(n))):m(n.message);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,t?v.push("/user"):r.a.createElement(at,{handleSubmit:h,handleChange:function(e){var t=e.target.name,a=e.target.value;E(Object(F.a)(Object(F.a)({},f),{},Object($e.a)({},t,a)))},errorMessage:o}))}var rt={padding:"10px 20px",margin:10,backgroundColor:"#343434",borderRadius:"5px",color:"white",boxShadow:"4px 4px 3px rgba(0,0,0,.2)",cursor:"pointer"},ct=r.a.forwardRef((function(e,t){var a=e.name;return r.a.createElement("div",Object.assign({},e,{ref:t,style:rt,className:"category-card hover"}),r.a.createElement("h2",null,a))}));function lt(){var e,t="/api/categories",a=Be(t,Ye),c=a.data,l=a.setData,o=a.isLoading,m=a.setIsLoading,d=Object(n.useState)(!1),p=Object(u.a)(d,2),f=p[0],E=p[1],v=Object(j.g)(),g=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),a="/categories/search?search=".concat(t),e.next=4,fetch(a,Ye);case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,E(!0),r&&l(r),m(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){E(!1)}),[]),r.a.createElement(O.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement("h1",null,"View Our Categories"),r.a.createElement(O.a,{container:!0,justify:"center"},r.a.createElement(He,{data:c,setData:l,url:t},!o&&(null===c||void 0===c||null===(e=c.results)||void 0===e?void 0:e.map((function(e){return f?r.a.createElement(de,{_id:e._id,itemObject:e,onCardAreaClick:function(){return function(e){var t="/products/".concat(e);v.push(t)}(e._id)}}):r.a.createElement(ct,{onClick:function(){return g(e.name)},name:e.name})}))),o&&r.a.createElement(Ve,null),!o&&c&&c.results.length<1&&r.a.createElement("h2",null,"Nothing Found"))))}a(135);function ot(){var e=Be("/api/user/history",Ye),t=e.data,a=e.isLoading,n=e.errorMessage,c=Object(B.a)().palette.secondary.main;return r.a.createElement("div",{className:"shoppingHistory-page"},r.a.createElement(z.a,{className:"componentTransition",variant:"h2"},"Shopping History"),a?r.a.createElement(Ve,null):t.length>0?r.a.createElement(He,null,!a&&t&&t.slice(0,15).map((function(e){return r.a.createElement(it,{key:Math.random(),data:e})}))):r.a.createElement(z.a,{variant:"h4",style:{color:c,margin:"30px 0"}},"You have not bougth anything yet"),n&&r.a.createElement(z.a,{variant:"h4"},n))}var it=function(e){var t=e.data,a=t.products,n=t.date;return r.a.createElement("div",{className:"date-card-container full-width"},r.a.createElement("div",null,a&&a.map((function(e){var t=e.img,a=e.image,n=e.name,c=e.price,l=e.qty;return r.a.createElement("div",{className:"date-card-row"},r.a.createElement(xe.a,{className:"date-card-avatar",src:t||a,alt:n}),r.a.createElement("h4",{className:"date-card-text",variant:"h6"},n),r.a.createElement("h4",{className:"date-card-text",variant:"h6"},"$",c),r.a.createElement("h4",{className:"date-card-text",variant:"h6"},"x",l))}))),r.a.createElement(z.a,{variant:"p",className:"date-card-date"},"Bought on Date: ",n))},st=a(195),ut=a(194),mt=a(71),dt=a.n(mt),pt=a(101),ft=a.n(pt),Et=a(104),vt=a.n(Et),gt=a(105),bt=a.n(gt),ht=a(103),yt=a.n(ht),jt=a(102),Ot=a.n(jt),xt=a(142),Ct=(a(136),a(100)),kt=a.n(Ct);function Nt(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)({}),o=Object(u.a)(l,2),m=o[0],d=o[1],p=Object(n.useState)(),f=Object(u.a)(p,2),E=f[0],v=f[1],g=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({product:m})},e.next=3,fetch("/api/products/add",t);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,v(n),c(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"componentTransition"},r.a.createElement("h2",null,"Admin Panel"),r.a.createElement("div",{className:"flex d-column admin-buttons-container"},r.a.createElement($.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){c(!0)}},"Add Product"),r.a.createElement(St,{open:a,handleClose:function(){c(!1)},handleSubmit:g,message:E,onFormChange:function(e){var t=e.target,a=t.name,n=t.value;d(Object(F.a)(Object(F.a)({},m),{},Object($e.a)({},a,n)))}}),r.a.createElement(y.b,{to:"/user/admin/edit-products"},r.a.createElement($.a,{variant:"contained",fullWidth:!0,color:"secondary"},"Edit Products"))))}var St=function(e){var t=e.open,a=e.handleClose,n=e.handleSubmit,c=e.message,l=e.onFormChange;return r.a.createElement(ke.a,{open:t,onClose:a},r.a.createElement("form",{onChange:l,className:"add-product-form transition"},r.a.createElement($.a,{variant:"contained",color:"secondary",className:"form-close-btn",size:"small",onClick:a},r.a.createElement(kt.a,null)),r.a.createElement("h3",{className:"add-product-title"},"Add A Product"),r.a.createElement("div",{className:"form-content"},r.a.createElement(Ee.a,{name:"name",id:"product-name",label:"Product Name"}),r.a.createElement(Ee.a,{name:"img",id:"product-image",label:"Image url"}),r.a.createElement("div",{className:"add-product-divider"},r.a.createElement(Ee.a,{name:"qty",id:"product-qty",label:"Available units"}),r.a.createElement(Ee.a,{name:"price",id:"product-price",label:"Price"})),r.a.createElement(Ee.a,{name:"category",id:"product-category",label:"Category"}),r.a.createElement(Ee.a,{name:"brand",id:"product-brand",label:"Brand"}),r.a.createElement(xt.a,{className:"product-form-textarea",rowsMin:4,name:"description",placeholder:"Description"})),r.a.createElement($.a,{variant:"contained",color:"secondary",onClick:n},"Add"),c&&r.a.createElement("h4",null,c.message)))};function wt(){var e=Be("/api/user/favorites",Ye),t=e.data,a=e.isLoading,n=e.errorMessage,c=Object(j.g)(),l=Object(B.a)().palette.secondary.main;return r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{style:{minWidth:"80%"}},r.a.createElement(O.a,{container:!0},a?r.a.createElement(Ve,null):(null===t||void 0===t?void 0:t.length)>0?r.a.createElement(He,null,t&&(null===t||void 0===t?void 0:t.map((function(e){return r.a.createElement(de,{key:e._id,itemObject:e,onCardAreaClick:function(){return t="/products/".concat(e._id),void c.push(t);var t},image:e.img})})))):r.a.createElement(z.a,{variant:"h5",style:{color:l,margin:"40px auto"}}," ","There are no favorites in your account yet"," "),n&&r.a.createElement(z.a,{variant:"h5",style:{margin:"0 auto",color:"red"}},n))))}var It=Object(ut.a)((function(e){return{headerIcon:{padding:e.spacing(4)}}}));function Tt(){var e=It(),t=Object(n.useContext)(g).currentUser;return r.a.createElement(We.a,{className:"componentTransition"},r.a.createElement(O.a,{container:!0},r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(O.a,{container:!0},r.a.createElement(O.a,{item:!0,className:e.headerIcon},r.a.createElement(dt.a,{color:"secondary",style:{fontSize:"30px"}})),r.a.createElement(O.a,{item:!0},r.a.createElement(z.a,{variant:"h6"}," Account's Information")))),r.a.createElement(O.a,{item:!0,xs:6},r.a.createElement(Ee.a,{variant:"filled",disabled:!0,label:"Username",value:null===t||void 0===t?void 0:t.username}),r.a.createElement(Ee.a,{variant:"filled",disabled:!0,label:"Address",value:null===t||void 0===t?void 0:t.address})),r.a.createElement(O.a,{item:!0,xs:6},r.a.createElement(Ee.a,{variant:"filled",disabled:!0,label:"Email",value:null===t||void 0===t?void 0:t.email}),r.a.createElement(Ee.a,{variant:"filled",disabled:!0,label:"Gender",value:null===t||void 0===t?void 0:t.gender}))))}var Pt=a(207);function At(){var e,t=Be("/api/orders",Ye),a=t.data,n=t.isLoading;return r.a.createElement("div",{className:"componentTransition shoppingHistory-page"},n?r.a.createElement(Ve,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{variant:"h4",style:{margin:"20px 0"}},"View orders"),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Order Id #"),r.a.createElement("th",null,"Date of Order"),r.a.createElement("th",null,"Client's Name"),r.a.createElement("th",null,"Client's Address"),r.a.createElement("th",null,"Total"),r.a.createElement("th",null,"Completed"),r.a.createElement("th",null,"Actions")),null===a||void 0===a||null===(e=a.results)||void 0===e?void 0:e.map((function(e){return r.a.createElement(Lt,{order:e})})))))}var Lt=function(e){var t=e.order,a=Object(n.useState)(t.completed),c=Object(u.a)(a,1)[0];return r.a.createElement("tr",null,r.a.createElement("td",null,t._id),r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.clientName),r.a.createElement("td",null,t.address),r.a.createElement("td",null,"$ ",t.total||0),r.a.createElement("td",null,r.a.createElement(Pt.a,{label:c?"Completed":"Not Completed",color:c?se.a:"secondary"}," ")),r.a.createElement("div",{className:"flex"}))},_t=Object(ut.a)((function(e){return{root:{width:"100%","& > *":{padding:"".concat(e.spacing(2),"px ").concat(e.spacing(4),"px")}},list:{margin:e.spacing(4),userSelect:"none","& > *:hover":{backgroundColor:"#eaeaea",cursor:"pointer",transition:"all .2s ease"},"& > *:hover > .MuiListItemIcon-root":{color:e.palette.secondary.main}},mainView:{padding:e.spacing(2),width:"100%"},active:{"& > .MuiListItemIcon-root":{color:e.palette.secondary.main},borderRight:"solid 3px ".concat(e.palette.secondary.main),boxShadow:"4px 4px 4px rgba(0,0,0,.2)",backgroundColor:"#f0f0f0"}}}));function Ft(){var e=Object(n.useContext)(g),t=e.currentUser,a=e.setCurrentUser,c=_t(),l=Ye,o=Object(n.useState)([{name:"Account Info",Icon:dt.a,mustBeAdmin:!1,View:Tt,active:!0},{name:"Admin Panel",Icon:ft.a,mustBeAdmin:!0,View:Nt,active:!1},{name:"Orders",Icon:Ot.a,mustBeAdmin:!0,View:At,active:!1},{name:"Favorites",Icon:ae.a,mustBeAdmin:!1,View:wt,active:!1},{name:"Shopping history",Icon:yt.a,mustBeAdmin:!1,View:ot,active:!1}]),i=Object(u.a)(o,2),s=i[0],m=i[1],d=Object(n.useState)((function(){return s[0].View})),p=Object(u.a)(d,2),f=p[0],E=p[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{className:"componentTransition"},r.a.createElement(je.a,null,r.a.createElement(O.a,{container:!0},r.a.createElement(O.a,{item:!0,md:4,sm:12,alignContent:"flex-start"},r.a.createElement(je.a,{className:c.list},r.a.createElement(Re.a,{elevation:2,className:c.root},r.a.createElement(Oe.a,null,r.a.createElement(st.a,null,r.a.createElement(vt.a,null)),r.a.createElement(z.a,{variant:"p"},"Hello"," ",r.a.createElement(z.a,{variant:"h6"},t.username)))),s.map((function(e,a){var n=e.name,l=e.Icon,o=e.mustBeAdmin,i=e.View,u=e.active;return"admin"!==t.role&&o?null:r.a.createElement(Oe.a,{className:u&&c.active,onClick:function(){return function(e,t){E((function(){return t}));var a=Object(Q.a)(s);a.forEach((function(e){e.active=!1})),a[e].active=!0,m(a)}(a,i)}},r.a.createElement(st.a,null,r.a.createElement(l,null)),r.a.createElement(z.a,{variant:"p"},n))})),r.a.createElement(Oe.a,{onClick:function(){a(),fetch("/api/logout",l)}},r.a.createElement(st.a,null,r.a.createElement(bt.a,null)),r.a.createElement(z.a,{variant:"p"},"Log out")))),r.a.createElement(O.a,{item:!0,md:8,ms:12},r.a.createElement(Re.a,{style:{width:"100%"},className:c.mainView},r.a.createElement(f,null)))))))}a(137);var qt=a(106),Ut=a.n(qt);function Dt(e){var t=e.product,a=e.detailsRef,c=e.onEditClick,l=e.onRemoveClick,o=Object(n.useState)({_id:t._id,name:"",img:"",price:void 0,qty:void 0,category:""}),m=Object(u.a)(o,2),d=m[0],p=m[1],f=Object(n.useState)({message:"Edit",status:null}),E=Object(u.a)(f,2),v=E[0],g=E[1],b=function(){var e=Object(s.a)(i.a.mark((function e(){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._id){e.next=2;break}return e.abrupt("return",console.log("No product Id provided"));case 2:return"/api/products/modify",a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fields:d})},e.next=6,fetch("/api/products/modify",a);case 6:return n=e.sent,e.next=9,n.json();case 9:r=e.sent,200===n.status?g({message:"Succesfully Updated",status:!0}):g({message:r.message,status:!1});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("details",{ref:a,className:"edit-product-item-container"},r.a.createElement("summary",{className:"edit-product-item-summary"},r.a.createElement(xe.a,{className:t.qty<1||!t.isInStock?"notInStock":"",src:null===t||void 0===t?void 0:t.img,alt:null===t||void 0===t?void 0:t.title}),r.a.createElement("h3",{className:t.qty<1||!t.isInStock?"notInStock":""},t.name),r.a.createElement("div",{className:"edit-product-icons"},r.a.createElement(Ut.a,{className:"edit-icon icon",onClick:c}),r.a.createElement(Ue.a,{className:"remove-icon icon",onClick:l}))),r.a.createElement("div",{className:"flex justify-between",style:{padding:"1.5rem"}},r.a.createElement("h4",null,"Price: ",t.price),r.a.createElement("h4",null,"Qty: ",t.qty),r.a.createElement("h4",null,"Category: ",t.category)),r.a.createElement("form",{onChange:function(e){var t=e.target,a=t.name,n=t.value;p("price"===a||"qty"===a?Object(F.a)(Object(F.a)({},d),{},Object($e.a)({},a,parseInt(n))):Object(F.a)(Object(F.a)({},d),{},Object($e.a)({},a,n)))},className:"flex d-column edit-products-textField"},r.a.createElement(Ee.a,{name:"name",className:"textField-item",label:"Name: ".concat(t.name)}),r.a.createElement(Ee.a,{name:"img",className:"textField-item",label:"Image Url:"}),r.a.createElement(Ee.a,{name:"price",className:"textField-item",label:"Price: ".concat(t.price),type:"number"}),r.a.createElement(Ee.a,{type:"number",name:"qty",className:"textField-item",label:"Qty:"}),r.a.createElement(Ee.a,{name:"category",className:"textField-item",label:"Category: ".concat(t.category)}),r.a.createElement($.a,{onClick:b,className:"textField-item",color:v.status?!0===v.status?"primary":"secondary":"default",variant:"contained"},v.message)))}function Mt(){var e="/api/products/",t=Be(e),a=t.data,c=t.setData,l=t.isLoading,o=Object(n.useRef)(),u=function(e){e.preventDefault();var t=e.currentTarget.parentNode.parentNode.parentNode;t.open=!t.open},m=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._id){e.next=2;break}return e.abrupt("return",console.log("No product Id provided"));case 2:return"/api/products/modify",n={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:t._id})},e.next=6,fetch("/api/products/modify",n);case 6:200===e.sent.status&&(r=Object(F.a)({},a),l=a.results.indexOf(t),r.results.splice(l,1),c(r));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"componentTransition edit-products-page flex d-column"},r.a.createElement("h2",null,"Edit Products"),r.a.createElement(He,{data:a,setData:c,url:e},!l&&a&&a.results.map((function(e){return r.a.createElement(Dt,{key:e._id,product:e,detailsRef:o,onEditClick:u,onRemoveClick:function(){return m(e)}})}))),l&&r.a.createElement(Ve,null))}a(138);var Bt={width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,.92)",position:"absolute",top:"0",left:"0",right:"0",bottom:"0"};function Rt(){return r.a.createElement("div",{style:Bt},r.a.createElement("div",{style:{position:"relative",top:"50%",transform:"translateY(-100%)"}},r.a.createElement(Ve,null),r.a.createElement(z.a,{variant:"h3",color:"secondary",className:"floatBigAndSmall"},"Welcome!"),r.a.createElement(z.a,{variant:"h6",style:{color:"rgba(255,255,255,.8)"}},"If this is your first time visiting us today"),r.a.createElement(z.a,{variant:"h6",style:{color:"rgba(255,255,255,.8)"}},"please wait a few seconds for our backend to respond.")))}var Vt=function(e){var t=e.component,a=Object(h.a)(e,["component"]),c=Object(n.useContext)(g).currentUser;return r.a.createElement(j.b,Object.assign({},a,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(j.a,{to:"/"})}}))},Jt=function(){var e=Object(n.useContext)(m).isLoading;return r.a.createElement("div",{className:"App"},e?r.a.createElement(Rt,null):r.a.createElement(y.a,null,r.a.createElement(_,null),r.a.createElement(j.d,null,r.a.createElement(j.b,{path:"/",exact:!0,component:he}),r.a.createElement(j.b,{path:"/shoppingcart",exact:!0,component:Me}),r.a.createElement(j.b,{path:"/products",key:"products",exact:!0,component:ze}),r.a.createElement(j.b,{path:"/products/:id",component:Je}),r.a.createElement(j.b,{path:"/login",component:Xe}),r.a.createElement(j.b,{path:"/register",component:nt}),r.a.createElement(Vt,{path:"/user",exact:!0,component:Ft}),r.a.createElement(Vt,{path:"/user/favorites",component:wt}),r.a.createElement(j.b,{path:"/categories",key:"categories",exact:!0,component:lt}),r.a.createElement(j.b,{path:"/categories/search",key:"categories-search",component:lt}),r.a.createElement(Vt,{path:"/user/history",component:ot}),r.a.createElement(Vt,{path:"/user/admin",exact:!0,component:Nt}),r.a.createElement(Vt,{path:"/user/admin/edit-products",component:Mt}),r.a.createElement(j.b,{path:"*",component:Ge}))))};function Wt(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null,r.a.createElement(f,null,r.a.createElement(v,null,r.a.createElement(b,null,r.a.createElement(Jt,null))))))}var Ht=a(196),zt=a(107),Gt=Object(zt.a)({palette:{primary:{main:"#474747"},white:{main:"#fff"}},props:{MuiButtonBase:{disableRipple:!0}}});l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ht.a,{theme:Gt},r.a.createElement(Wt,null))),document.getElementById("root"))},76:function(e,t,a){},85:function(e,t,a){},87:function(e,t,a){}},[[118,1,2]]]);
//# sourceMappingURL=main.ed55a8f5.chunk.js.map